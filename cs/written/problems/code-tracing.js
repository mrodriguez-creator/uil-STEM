// UIL Computer Science – Code Tracing (Multi-step output, complex traces)
// These problems simulate the harder Q16–Q38 written test questions.
const CODE_TRACING_PROBLEMS = [

  // ══════════════════════════════════════════
  //  OUTPUT TRACING – printf, String, escapes
  // ══════════════════════════════════════════

  { id: "ct1", topic: "Code Tracing", question: "What is the output?<pre><code>int a = 7, b = 3;\nSystem.out.printf(\"%d and %d is %d\", a, b, a * b);</code></pre>", choices: ["\"7 and 3 is 21\"", "\"a and b is a * b\"", "\"%d and %d is %d\"", "\"7 and 3 is 10\"", "Compilation error"], answer: 0, hint: "printf substitutes %d with integer values in order", explanation: "%d → 7, %d → 3, %d → 7*3=21. Output: \"7 and 3 is 21\"." },

  { id: "ct2", topic: "Code Tracing", question: "What is the output?<pre><code>double d = 3.14159;\nSystem.out.printf(\"Pi=%.3f!\", d);</code></pre>", choices: ["\"Pi=3.14!\"", "\"Pi=3.141!\"", "\"Pi=3.142!\"", "\"Pi=3.14159!\"", "\"Pi=%.3f!\""], answer: 2, hint: "%.3f rounds to 3 decimal places", explanation: "%.3f formats to 3 decimals. 3.14159 rounds to 3.142. Output: \"Pi=3.142!\"." },

  { id: "ct3", topic: "Code Tracing", question: "What is the output?<pre><code>String s = \"ABCDEF\";\nSystem.out.println(s.substring(1, 4) + s.charAt(5));</code></pre>", choices: ["\"BCDF\"", "\"BCDE\"", "\"ABCF\"", "\"BCDEF\"", "\"BCD F\""], answer: 0, hint: "substring(1,4) = chars at indices 1,2,3. charAt(5) = char at index 5", explanation: "substring(1,4) = \"BCD\". charAt(5) = 'F'. \"BCD\" + 'F' = \"BCDF\"." },

  { id: "ct4", topic: "Code Tracing", question: "What is the output?<pre><code>String s = \"Hello\";\ns = s.substring(0, 3) + s.substring(3).toUpperCase();\nSystem.out.println(s);</code></pre>", choices: ["\"HeLLO\"", "\"HelLO\"", "\"HELLO\"", "\"Hello\"", "\"HeLlo\""], answer: 1, hint: "substring(0,3)=\"Hel\", substring(3)=\"lo\", toUpperCase()=\"LO\"", explanation: "s.substring(0,3) = \"Hel\". s.substring(3) = \"lo\". \"lo\".toUpperCase() = \"LO\". \"Hel\" + \"LO\" = \"HelLO\"." },

  { id: "ct5", topic: "Code Tracing", question: "What is the output?<pre><code>String s = \"racecar\";\nString r = \"\";\nfor (int i = s.length() - 1; i >= 0; i--)\n  r += s.charAt(i);\nSystem.out.println(s.equals(r));</code></pre>", choices: ["true", "false", "\"racecar\"", "\"racecar\" == \"racecar\"", "Compilation error"], answer: 0, hint: "This reverses the string and checks if it equals the original (palindrome check)", explanation: "Reversed \"racecar\" = \"racecar\". s.equals(r) = true (it's a palindrome)." },

  { id: "ct6", topic: "Code Tracing", question: "What is the output?<pre><code>String result = \"\";\nfor (int i = 0; i < 4; i++)\n  result += i + \" \";\nSystem.out.println(result.trim());</code></pre>", choices: ["\"0 1 2 3\"", "\"0 1 2 3 \"", "\"1 2 3 4\"", "\"0123\"", "\"0 1 2 3 4\""], answer: 0, hint: "Builds \"0 1 2 3 \" then trim() removes trailing space", explanation: "result = \"0 1 2 3 \". trim() removes trailing whitespace → \"0 1 2 3\"." },

  { id: "ct7", topic: "Code Tracing", question: "What is the output?<pre><code>int x = 65;\nSystem.out.print((char)x);\nSystem.out.print((char)(x + 1));\nSystem.out.print((char)(x + 2));</code></pre>", choices: ["\"656667\"", "\"ABC\"", "\"abc\"", "\"A B C\"", "Compilation error"], answer: 1, hint: "ASCII 65='A', 66='B', 67='C'. Casting int to char gives the character", explanation: "(char)65 = 'A', (char)66 = 'B', (char)67 = 'C'. Output: \"ABC\"." },

  { id: "ct8", topic: "Code Tracing", question: "What is the output?<pre><code>System.out.print(\"A\\tB\\tC\\n\");\nSystem.out.print(\"D\\tE\\tF\");</code></pre>", choices: ["\"A\\tB\\tC\\nD\\tE\\tF\"", "\"A B C\" then \"D E F\" (tab-separated, two lines)", "\"ABCDEF\"", "\"A\\tB\\tC D\\tE\\tF\"", "Compilation error"], answer: 1, hint: "\\t is tab, \\n is newline", explanation: "\\t inserts tab characters, \\n starts a new line. Output: A[tab]B[tab]C[newline]D[tab]E[tab]F." },

  // ══════════════════════════════════════════
  //  LOOP TRACING – complex nested & stateful
  // ══════════════════════════════════════════

  { id: "ct9", topic: "Code Tracing", question: "What is the output?<pre><code>int sum = 0;\nfor (int i = 1; i <= 4; i++)\n  for (int j = 1; j <= i; j++)\n    sum += j;\nSystem.out.println(sum);</code></pre>", choices: ["10", "15", "20", "25", "30"], answer: 2, hint: "i=1: j=1(sum=1). i=2: j=1,2(sum=1+1+2=4). i=3: j=1,2,3(sum=4+6=10). i=4: j=1,2,3,4(sum=10+10=20)", explanation: "i=1: +1=1. i=2: +1+2=4. i=3: +1+2+3=10. i=4: +1+2+3+4=20." },

  { id: "ct10", topic: "Code Tracing", question: "What is the output?<pre><code>String s = \"\";\nfor (int i = 5; i >= 1; i--) {\n  if (i % 2 == 1)\n    s += i;\n}\nSystem.out.println(s);</code></pre>", choices: ["\"531\"", "\"135\"", "\"5 3 1\"", "\"24\"", "\"54321\""], answer: 0, hint: "Only odd values of i (5, 3, 1) are concatenated", explanation: "i=5 (odd, append): \"5\". i=4 (skip). i=3 (odd): \"53\". i=2 (skip). i=1 (odd): \"531\"." },

  { id: "ct11", topic: "Code Tracing", question: "What is the output?<pre><code>int n = 1;\nwhile (n < 100) {\n  n = n * 2 + 1;\n}\nSystem.out.println(n);</code></pre>", choices: ["63", "95", "127", "191", "255"], answer: 2, hint: "Trace: 1→3→7→15→31→63→127. Is 127 < 100? No.", explanation: "n: 1→3→7→15→31→63→127. At 127, condition n<100 is false. Prints 127." },

  { id: "ct12", topic: "Code Tracing", question: "What is the output?<pre><code>int x = 0, y = 10;\nwhile (x < y) {\n  x += 3;\n  y -= 1;\n}\nSystem.out.println(x + \" \" + y);</code></pre>", choices: ["\"9 7\"", "\"12 7\"", "\"12 6\"", "\"9 8\"", "\"6 7\""], answer: 0, hint: "Trace each iteration: x increases by 3, y decreases by 1", explanation: "x=0,y=10→x=3,y=9→x=6,y=8→x=9,y=7. Now x=9 < y=7 is false. Output: \"9 7\"." },

  { id: "ct13", topic: "Code Tracing", question: "What is the output?<pre><code>for (int i = 1; i <= 4; i++) {\n  for (int j = 1; j <= 4 - i; j++)\n    System.out.print(\" \");\n  for (int j = 1; j <= i; j++)\n    System.out.print(\"*\");\n  System.out.println();\n}</code></pre>", choices: ["A right-aligned triangle of stars", "A left-aligned triangle of stars", "A diamond of stars", "A square of stars", "A single row of stars"], answer: 0, hint: "First inner loop prints spaces (decreasing), second prints stars (increasing)", explanation: "i=1: 3 spaces + 1 star. i=2: 2 spaces + 2 stars. i=3: 1 space + 3 stars. i=4: 0 spaces + 4 stars. Right-aligned triangle." },

  { id: "ct14", topic: "Code Tracing", question: "What is the output?<pre><code>int count = 0;\nfor (int i = 2; i <= 20; i++) {\n  boolean prime = true;\n  for (int j = 2; j * j <= i; j++)\n    if (i % j == 0) { prime = false; break; }\n  if (prime) count++;\n}\nSystem.out.println(count);</code></pre>", choices: ["4", "6", "8", "10", "11"], answer: 2, hint: "This counts prime numbers from 2 to 20: 2,3,5,7,11,13,17,19", explanation: "Primes 2-20: 2, 3, 5, 7, 11, 13, 17, 19. Count = 8." },

  { id: "ct15", topic: "Code Tracing", question: "What is the output?<pre><code>int[] vals = {4, 7, 2, 9, 1};\nfor (int i = 0; i < vals.length - 1; i++) {\n  if (vals[i] > vals[i + 1]) {\n    int temp = vals[i];\n    vals[i] = vals[i + 1];\n    vals[i + 1] = temp;\n  }\n}\nSystem.out.println(vals[vals.length - 1]);</code></pre>", choices: ["1", "4", "7", "9", "2"], answer: 3, hint: "This is one pass of bubble sort — the largest element bubbles to the end", explanation: "One bubble sort pass: [4,7,2,9,1]→[4,2,7,9,1]→[4,2,7,1,9]. Largest (9) reaches the end. vals[4] = 9." },

  { id: "ct16", topic: "Code Tracing", question: "What is the output?<pre><code>int n = 156;\nString hex = \"\";\nwhile (n > 0) {\n  int r = n % 16;\n  hex = (r < 10 ? (char)('0'+r) : (char)('A'+r-10)) + hex;\n  n /= 16;\n}\nSystem.out.println(hex);</code></pre>", choices: ["\"9C\"", "\"9D\"", "\"A0\"", "\"98\"", "\"9B\""], answer: 0, hint: "This converts decimal to hex. 156 / 16 = 9 r 12. 12 = 'C'", explanation: "156 % 16 = 12 → 'C'. 156 / 16 = 9. 9 % 16 = 9 → '9'. hex = \"9C\"." },

  // ══════════════════════════════════════════
  //  ARRAY & ARRAYLIST MANIPULATION TRACES
  // ══════════════════════════════════════════

  { id: "ct17", topic: "Code Tracing", question: "What is the output?<pre><code>int[] arr = {1, 2, 3, 4, 5};\nfor (int i = 0; i < arr.length / 2; i++) {\n  int temp = arr[i];\n  arr[i] = arr[arr.length - 1 - i];\n  arr[arr.length - 1 - i] = temp;\n}\nSystem.out.println(Arrays.toString(arr));</code></pre>", choices: ["[5, 4, 3, 2, 1]", "[1, 2, 3, 4, 5]", "[5, 2, 3, 4, 1]", "[1, 4, 3, 2, 5]", "[3, 2, 1, 4, 5]"], answer: 0, hint: "This swaps elements from the outside inward — reversing the array", explanation: "Swaps: arr[0]↔arr[4], arr[1]↔arr[3]. Middle stays. Result: [5, 4, 3, 2, 1]." },

  { id: "ct18", topic: "Code Tracing", question: "What is the output?<pre><code>int[] a = {3, 1, 4, 1, 5, 9};\nint[] b = new int[a.length];\nfor (int i = 0; i < a.length; i++)\n  b[a.length - 1 - i] = a[i];\nSystem.out.println(b[0] + \" \" + b[5]);</code></pre>", choices: ["\"3 9\"", "\"9 3\"", "\"3 3\"", "\"9 9\"", "\"5 1\""], answer: 1, hint: "b is the reverse of a. b[0] gets a[5]=9, b[5] gets a[0]=3", explanation: "b = reverse of a = [9, 5, 1, 4, 1, 3]. b[0]=9, b[5]=3. Output: \"9 3\"." },

  { id: "ct19", topic: "Code Tracing", question: "What is the output?<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int i = 1; i <= 5; i++)\n  list.add(i * 10);\nlist.remove(2);\nlist.add(1, 99);\nSystem.out.println(list);</code></pre>", choices: ["[10, 99, 20, 40, 50]", "[10, 99, 30, 40, 50]", "[10, 99, 40, 50]", "[99, 10, 20, 40, 50]", "[10, 20, 99, 40, 50]"], answer: 0, hint: "After adding: [10,20,30,40,50]. remove(2) removes index 2 (30). add(1,99) inserts 99 at index 1", explanation: "Start: [10,20,30,40,50]. remove(2) → [10,20,40,50]. add(1,99) → [10,99,20,40,50]." },

  { id: "ct20", topic: "Code Tracing", question: "What is the output?<pre><code>ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\nwords.add(\"cat\");\nwords.add(\"dog\");\nwords.add(\"bird\");\nwords.add(\"fish\");\nint i = 0;\nwhile (i < words.size()) {\n  if (words.get(i).length() == 3) {\n    words.remove(i);\n  } else {\n    i++;\n  }\n}\nSystem.out.println(words);</code></pre>", choices: ["[bird, fish]", "[bird]", "[cat, bird]", "[dog, bird, fish]", "[cat, dog, fish]"], answer: 0, hint: "Removes 3-letter words: \"cat\"(3), \"dog\"(3). Note: after removing, indices shift", explanation: "i=0: \"cat\" len=3 → remove. [dog,bird,fish]. i=0: \"dog\" len=3 → remove. [bird,fish]. i=0: \"bird\" len=4 → i++. i=1: \"fish\" len=4 → i++. Done. [bird, fish]." },

  { id: "ct21", topic: "Code Tracing", question: "What is the output?<pre><code>int[][] grid = {\n  {1, 2, 3},\n  {4, 5, 6},\n  {7, 8, 9}\n};\nint sum = 0;\nfor (int r = 0; r < 3; r++)\n  sum += grid[r][r];\nSystem.out.println(sum);</code></pre>", choices: ["6", "12", "15", "18", "45"], answer: 2, hint: "grid[r][r] selects the diagonal: grid[0][0], grid[1][1], grid[2][2]", explanation: "Diagonal: grid[0][0]=1, grid[1][1]=5, grid[2][2]=9. Sum = 1+5+9 = 15." },

  { id: "ct22", topic: "Code Tracing", question: "What is the output?<pre><code>int[][] m = {{1,2,3},{4,5,6}};\nint sum = 0;\nfor (int c = 0; c < 3; c++)\n  for (int r = 0; r < 2; r++)\n    sum += m[r][c];\nSystem.out.println(sum);</code></pre>", choices: ["6", "15", "18", "21", "24"], answer: 3, hint: "Iterates column-first but sums every element: 1+2+3+4+5+6", explanation: "All elements are summed regardless of order: 1+4+2+5+3+6 = 21." },

  { id: "ct23", topic: "Code Tracing", question: "What is the output?<pre><code>String[] arr = {\"AB\", \"CD\", \"EF\", \"GH\"};\nString result = \"\";\nfor (int i = 0; i < arr.length; i++)\n  result += arr[i].charAt(i % 2);\nSystem.out.println(result);</code></pre>", choices: ["\"ACEG\"", "\"BDFH\"", "\"ADEH\"", "\"ABCD\"", "\"ADFG\""], answer: 2, hint: "i%2 alternates 0,1,0,1. So take charAt(0), charAt(1), charAt(0), charAt(1)", explanation: "i=0: \"AB\".charAt(0)='A'. i=1: \"CD\".charAt(1)='D'. i=2: \"EF\".charAt(0)='E'. i=3: \"GH\".charAt(1)='H'. Result: \"ADEH\"." },

  // ══════════════════════════════════════════
  //  RECURSION TRACING
  // ══════════════════════════════════════════

  { id: "ct24", topic: "Code Tracing", question: "What is the output?<pre><code>static String mystery(int n) {\n  if (n == 0) return \"\";\n  return mystery(n / 2) + (n % 2);\n}\nSystem.out.println(mystery(13));</code></pre>", choices: ["\"1101\"", "\"1011\"", "\"13\"", "\"1310\"", "\"0111\""], answer: 0, hint: "This converts decimal to binary by recursively dividing by 2 and appending remainders", explanation: "mystery(13) = mystery(6)+\"1\" = mystery(3)+\"0\"+\"1\" = mystery(1)+\"1\"+\"0\"+\"1\" = mystery(0)+\"1\"+\"1\"+\"0\"+\"1\" = \"1101\"." },

  { id: "ct25", topic: "Code Tracing", question: "What is the output?<pre><code>static int f(int n) {\n  if (n <= 0) return 0;\n  if (n == 1) return 1;\n  return f(n - 1) + f(n - 2) + 1;\n}\nSystem.out.println(f(4));</code></pre>", choices: ["3", "5", "7", "9", "11"], answer: 2, hint: "Build bottom-up: f(0)=0, f(1)=1, f(2)=2, f(3)=4, f(4)=?", explanation: "f(0)=0, f(1)=1. f(2)=f(1)+f(0)+1=1+0+1=2. f(3)=f(2)+f(1)+1=2+1+1=4. f(4)=f(3)+f(2)+1=4+2+1=7." },

  { id: "ct26", topic: "Code Tracing", question: "What is the output?<pre><code>static void printPattern(int n) {\n  if (n <= 0) return;\n  System.out.print(n + \" \");\n  printPattern(n - 2);\n  System.out.print(n + \" \");\n}\nprintPattern(5);</code></pre>", choices: ["\"5 3 1 \"", "\"5 3 1 1 3 5 \"", "\"1 3 5 5 3 1 \"", "\"5 3 1 3 5 \"", "\"5 5 3 3 1 1 \""], answer: 1, hint: "Prints n before the recursive call AND after it (like a mirror)", explanation: "Call tree: print 5, call(3): print 3, call(1): print 1, call(-1): return, print 1, return, print 3, return, print 5. Output: \"5 3 1 1 3 5 \"." },

  { id: "ct27", topic: "Code Tracing", question: "What is the output?<pre><code>static int sumDigits(int n) {\n  if (n < 10) return n;\n  return n % 10 + sumDigits(n / 10);\n}\nSystem.out.println(sumDigits(9876));</code></pre>", choices: ["24", "27", "30", "33", "36"], answer: 2, hint: "Recursively sums digits: 6 + sumDigits(987) = 6 + 7 + sumDigits(98) = ...", explanation: "sumDigits(9876) = 6 + sumDigits(987) = 6+7+sumDigits(98) = 6+7+8+sumDigits(9) = 6+7+8+9 = 30." },

  { id: "ct28", topic: "Code Tracing", question: "What is the output?<pre><code>static int mystery(int a, int b) {\n  if (b == 0) return 0;\n  if (b == 1) return a;\n  return a + mystery(a, b - 1);\n}\nSystem.out.println(mystery(7, 4));</code></pre>", choices: ["11", "21", "24", "28", "49"], answer: 3, hint: "mystery(7,4) = 7 + mystery(7,3) = 7 + 7 + mystery(7,2) = ...", explanation: "mystery(7,4) = 7+mystery(7,3) = 7+7+mystery(7,2) = 7+7+7+mystery(7,1) = 7+7+7+7 = 28. This computes a*b recursively." },

  { id: "ct29", topic: "Code Tracing", question: "What is the output?<pre><code>static String reverse(String s) {\n  if (s.length() <= 1) return s;\n  return reverse(s.substring(1)) + s.charAt(0);\n}\nSystem.out.println(reverse(\"JAVA\"));</code></pre>", choices: ["\"JAVA\"", "\"AVAJ\"", "\"AAVJ\"", "\"JVAA\"", "\"VAJJ\""], answer: 1, hint: "Recursively moves the first character to the end", explanation: "reverse(\"JAVA\") = reverse(\"AVA\")+\"J\" = reverse(\"VA\")+\"A\"+\"J\" = reverse(\"A\")+\"V\"+\"A\"+\"J\" = \"A\"+\"V\"+\"A\"+\"J\" = \"AVAJ\"." },

  { id: "ct30", topic: "Code Tracing", question: "What is the output?<pre><code>static int power(int base, int exp) {\n  if (exp == 0) return 1;\n  if (exp % 2 == 0) {\n    int half = power(base, exp / 2);\n    return half * half;\n  }\n  return base * power(base, exp - 1);\n}\nSystem.out.println(power(3, 5));</code></pre>", choices: ["15", "81", "125", "243", "729"], answer: 3, hint: "This is fast exponentiation. 3⁵ = 243", explanation: "power(3,5) = 3*power(3,4). power(3,4): half=power(3,2). power(3,2): half=power(3,1). power(3,1) = 3*power(3,0) = 3*1 = 3. So power(3,2) = 3*3 = 9. power(3,4) = 9*9 = 81. power(3,5) = 3*81 = 243." },

  // ══════════════════════════════════════════
  //  OOP / INHERITANCE TRACING
  // ══════════════════════════════════════════

  { id: "ct31", topic: "Code Tracing", question: "What is the output?<pre><code>class A {\n  int x = 1;\n  int get() { return x; }\n}\nclass B extends A {\n  int x = 2;\n  int get() { return x; }\n}\nA obj = new B();\nSystem.out.println(obj.x + \" \" + obj.get());</code></pre>", choices: ["\"1 1\"", "\"2 2\"", "\"1 2\"", "\"2 1\"", "Compilation error"], answer: 2, hint: "Fields use compile-time type (A), methods use runtime type (B)", explanation: "obj.x uses the declared type A → 1 (fields are not polymorphic). obj.get() uses runtime type B → 2. Output: \"1 2\"." },

  { id: "ct32", topic: "Code Tracing", question: "What is the output?<pre><code>class Base {\n  String name() { return \"Base\"; }\n  String greet() { return \"Hello from \" + name(); }\n}\nclass Sub extends Base {\n  String name() { return \"Sub\"; }\n}\nBase b = new Sub();\nSystem.out.println(b.greet());</code></pre>", choices: ["\"Hello from Base\"", "\"Hello from Sub\"", "\"Hello from BaseSub\"", "Compilation error", "\"Hello from \""], answer: 1, hint: "greet() calls name(). name() is overridden in Sub, and b's runtime type is Sub", explanation: "b.greet() calls this.name(). Runtime type is Sub, so Sub.name() returns \"Sub\". Output: \"Hello from Sub\"." },

  { id: "ct33", topic: "Code Tracing", question: "What is the output?<pre><code>class Animal {\n  String sound;\n  Animal() { sound = \"...\"; setup(); }\n  void setup() { sound = \"generic\"; }\n  String speak() { return sound; }\n}\nclass Cat extends Animal {\n  void setup() { sound = \"meow\"; }\n}\nSystem.out.println(new Cat().speak());</code></pre>", choices: ["\"...\"", "\"generic\"", "\"meow\"", "null", "Compilation error"], answer: 2, hint: "Animal's constructor calls setup(), but Cat overrides it. So Cat.setup() runs during construction", explanation: "new Cat() → Animal() constructor: sound=\"...\", then setup() → Cat.setup() sets sound=\"meow\". speak() returns \"meow\"." },

  { id: "ct34", topic: "Code Tracing", question: "What is the output?<pre><code>class X {\n  X() { System.out.print(\"X \"); }\n}\nclass Y extends X {\n  Y() { System.out.print(\"Y \"); }\n}\nclass Z extends Y {\n  Z() { System.out.print(\"Z \"); }\n}\nnew Z();</code></pre>", choices: ["\"Z \"", "\"Z Y X \"", "\"X Y Z \"", "\"Y Z \"", "\"X Z \""], answer: 2, hint: "Constructors chain from the topmost superclass down", explanation: "new Z() → Z() calls Y() → Y() calls X(). X prints \"X \", Y prints \"Y \", Z prints \"Z \". Output: \"X Y Z \"." },

  { id: "ct35", topic: "Code Tracing", question: "What is the output?<pre><code>interface Doable {\n  int doIt(int x);\n}\nclass Doubler implements Doable {\n  public int doIt(int x) { return x * 2; }\n}\nclass Tripler implements Doable {\n  public int doIt(int x) { return x * 3; }\n}\nDoable[] ops = {new Doubler(), new Tripler(), new Doubler()};\nint result = 1;\nfor (Doable d : ops)\n  result = d.doIt(result);\nSystem.out.println(result);</code></pre>", choices: ["6", "8", "12", "18", "24"], answer: 2, hint: "Start with 1. Doubler: 1→2. Tripler: 2→6. Doubler: 6→12", explanation: "result: 1 → Doubler: 2 → Tripler: 6 → Doubler: 12. Output: 12." },

  { id: "ct36", topic: "Code Tracing", question: "What is the output?<pre><code>class Box {\n  int val;\n  Box(int v) { val = v; }\n  void add(int n) { val += n; }\n}\nBox a = new Box(5);\nBox b = a;\nb.add(10);\nSystem.out.println(a.val + \" \" + b.val);</code></pre>", choices: ["\"5 15\"", "\"15 15\"", "\"15 5\"", "\"5 5\"", "\"10 15\""], answer: 1, hint: "b = a makes b refer to the same object. Changes through b affect a", explanation: "b = a means both reference the same Box. b.add(10) modifies the shared object. a.val = b.val = 15. Output: \"15 15\"." },

  { id: "ct37", topic: "Code Tracing", question: "What is the output?<pre><code>class Num {\n  int x;\n  Num(int x) { this.x = x; }\n  Num add(Num other) {\n    return new Num(this.x + other.x);\n  }\n}\nNum a = new Num(3);\nNum b = new Num(4);\nNum c = a.add(b).add(new Num(5));\nSystem.out.println(c.x);</code></pre>", choices: ["3", "4", "7", "9", "12"], answer: 4, hint: "a.add(b) creates Num(7). Then Num(7).add(Num(5)) creates Num(12)", explanation: "a.add(b) = new Num(3+4) = Num(7). Num(7).add(Num(5)) = Num(7+5) = Num(12). c.x = 12." },

  // ══════════════════════════════════════════
  //  MIXED COMPLEXITY – multi-method, multi-class
  // ══════════════════════════════════════════

  { id: "ct38", topic: "Code Tracing", question: "What is the output?<pre><code>static int[] modify(int[] arr) {\n  for (int i = 0; i < arr.length; i++)\n    arr[i] *= 2;\n  return arr;\n}\nint[] nums = {1, 2, 3};\nmodify(nums);\nSystem.out.println(nums[0] + nums[1] + nums[2]);</code></pre>", choices: ["6", "12", "18", "24", "36"], answer: 1, hint: "Arrays are passed by reference. modify() doubles each element in the original array", explanation: "modify doubles in-place: nums = [2, 4, 6]. Sum: 2+4+6 = 12." },

  { id: "ct39", topic: "Code Tracing", question: "What is the output?<pre><code>static void swap(int a, int b) {\n  int temp = a;\n  a = b;\n  b = temp;\n}\nint x = 10, y = 20;\nswap(x, y);\nSystem.out.println(x + \" \" + y);</code></pre>", choices: ["\"20 10\"", "\"10 20\"", "\"10 10\"", "\"20 20\"", "\"0 0\""], answer: 1, hint: "Java is pass-by-value for primitives. The swap only affects local copies", explanation: "Primitives are passed by value. swap() changes local copies, not the originals. x=10, y=20 unchanged." },

  { id: "ct40", topic: "Code Tracing", question: "What is the output?<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nString[] words = {\"a\",\"b\",\"a\",\"c\",\"b\",\"a\"};\nfor (String w : words)\n  map.put(w, map.getOrDefault(w, 0) + 1);\nSystem.out.println(map.get(\"a\") + \" \" + map.get(\"b\"));</code></pre>", choices: ["\"2 2\"", "\"3 2\"", "\"3 1\"", "\"2 3\"", "\"1 1\""], answer: 1, hint: "This counts word frequencies. 'a' appears 3 times, 'b' appears 2 times", explanation: "Counts: a→3, b→2, c→1. map.get(\"a\")=3, map.get(\"b\")=2. Output: \"3 2\"." },

  { id: "ct41", topic: "Code Tracing", question: "What is the output?<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\nint[] nums = {3, 1, 4, 1, 5};\nfor (int n : nums) {\n  while (!stack.isEmpty() && stack.peek() < n)\n    stack.pop();\n  stack.push(n);\n}\nSystem.out.println(stack);</code></pre>", choices: ["[5]", "[3, 4, 5]", "[5, 1]", "[5, 4, 3]", "[1, 1]"], answer: 0, hint: "This keeps a monotonically decreasing stack. Each new element pops all smaller ones", explanation: "Push 3→[3]. Push 1→[3,1]. Push 4: pop 1,3. [4]. Push 1→[4,1]. Push 5: pop 1,4. [5]." },

  { id: "ct42", topic: "Code Tracing", question: "What is the output?<pre><code>static boolean isPalindrome(String s, int lo, int hi) {\n  if (lo >= hi) return true;\n  if (s.charAt(lo) != s.charAt(hi)) return false;\n  return isPalindrome(s, lo + 1, hi - 1);\n}\nSystem.out.println(isPalindrome(\"abcba\", 0, 4));\nSystem.out.println(isPalindrome(\"abcda\", 0, 4));</code></pre>", choices: ["true then true", "false then false", "true then false", "false then true", "Compilation error"], answer: 2, hint: "\"abcba\" is a palindrome; \"abcda\" is not (b≠d at index 1,3)", explanation: "\"abcba\": a==a, b==b, c==c → true. \"abcda\": a==a, b≠d → false. Output: true then false." },

  { id: "ct43", topic: "Code Tracing", question: "What is the output?<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int i = 0; i < 5; i++)\n  list.add(i * i);\nlist.remove(Integer.valueOf(4));\nSystem.out.println(list);</code></pre>", choices: ["[0, 1, 9, 16]", "[0, 1, 4, 9]", "[1, 4, 9, 16]", "[0, 1, 9, 4]", "[0, 4, 9, 16]"], answer: 0, hint: "Integer.valueOf(4) removes the object 4 (not the element at index 4)", explanation: "list = [0, 1, 4, 9, 16]. remove(Integer.valueOf(4)) removes the value 4 (not index). Result: [0, 1, 9, 16]." },

  { id: "ct44", topic: "Code Tracing", question: "What is the output?<pre><code>int x = 5;\nx = x++ + x++ + x++;\nSystem.out.println(x);</code></pre>", choices: ["15", "18", "19", "20", "21"], answer: 1, hint: "x++ evaluates to x then increments: 5 + 6 + 7, then x is assigned that sum", explanation: "First x++: evaluates to 5 (x→6). Second x++: evaluates to 6 (x→7). Third x++: evaluates to 7 (x→8). x = 5+6+7 = 18." },

  { id: "ct45", topic: "Code Tracing", question: "What is the output?<pre><code>TreeMap&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\nmap.put(\"cherry\", 3);\nmap.put(\"apple\", 1);\nmap.put(\"banana\", 2);\nSystem.out.println(map.firstKey());\nSystem.out.println(map.lastKey());</code></pre>", choices: ["\"cherry\" then \"apple\"", "\"apple\" then \"cherry\"", "\"apple\" then \"banana\"", "\"banana\" then \"cherry\"", "\"cherry\" then \"banana\""], answer: 1, hint: "TreeMap keeps keys in sorted (alphabetical) order", explanation: "TreeMap sorts keys: apple, banana, cherry. firstKey()=\"apple\". lastKey()=\"cherry\"." },

  { id: "ct46", topic: "Code Tracing", question: "What is the output?<pre><code>static int gcd(int a, int b) {\n  if (b == 0) return a;\n  return gcd(b, a % b);\n}\nSystem.out.println(gcd(48, 18));</code></pre>", choices: ["2", "3", "6", "9", "12"], answer: 2, hint: "Euclidean algorithm: gcd(48,18) → gcd(18,12) → gcd(12,6) → gcd(6,0) → 6", explanation: "gcd(48,18) → gcd(18,12) → gcd(12,6) → gcd(6,0) → 6." },

  { id: "ct47", topic: "Code Tracing", question: "What is the output?<pre><code>class Counter {\n  private int count = 0;\n  void inc() { count++; }\n  int get() { return count; }\n}\nCounter c1 = new Counter();\nCounter c2 = new Counter();\nc1.inc(); c1.inc(); c1.inc();\nc2.inc();\nSystem.out.println(c1.get() + \" \" + c2.get());</code></pre>", choices: ["\"4 4\"", "\"3 1\"", "\"3 3\"", "\"4 1\"", "\"1 3\""], answer: 1, hint: "c1 and c2 are separate objects with their own count fields", explanation: "c1 is incremented 3 times: c1.get()=3. c2 is incremented once: c2.get()=1. Output: \"3 1\"." },

  { id: "ct48", topic: "Code Tracing", question: "What is the output?<pre><code>String[] names = {\"Alice\", \"Bob\", \"Charlie\", \"Diana\"};\nArrayList&lt;String&gt; long_names = new ArrayList&lt;&gt;();\nfor (String n : names)\n  if (n.length() > 3)\n    long_names.add(n.toUpperCase());\nSystem.out.println(long_names);</code></pre>", choices: ["[ALICE, CHARLIE, DIANA]", "[Alice, Charlie, Diana]", "[ALICE, BOB, CHARLIE, DIANA]", "[Alice, Bob, Charlie, Diana]", "[ALICE, CHARLIE]"], answer: 0, hint: "Filters names longer than 3 chars, then uppercases them", explanation: "Length > 3: Alice(5), Charlie(7), Diana(5). Uppercased: [ALICE, CHARLIE, DIANA]." },

  { id: "ct49", topic: "Code Tracing", question: "What is the output?<pre><code>class Shape {\n  double area() { return 0; }\n}\nclass Rect extends Shape {\n  double w, h;\n  Rect(double w, double h) { this.w = w; this.h = h; }\n  double area() { return w * h; }\n}\nclass Square extends Rect {\n  Square(double s) { super(s, s); }\n}\nShape s = new Square(5);\nSystem.out.println(s.area());</code></pre>", choices: ["0", "5.0", "10.0", "25.0", "Compilation error"], answer: 3, hint: "Square(5) calls Rect(5,5). area() = 5*5 = 25.0", explanation: "new Square(5) → Rect(5,5). s.area() → Rect.area() → 5*5 = 25.0." },

  { id: "ct50", topic: "Code Tracing", question: "What is the output?<pre><code>LinkedList&lt;Integer&gt; q = new LinkedList&lt;&gt;();\nfor (int i = 1; i <= 5; i++)\n  q.addLast(i);\nwhile (q.size() > 1) {\n  int front = q.removeFirst();\n  q.addLast(front);\n  q.removeFirst();\n}\nSystem.out.println(q.peek());</code></pre>", choices: ["1", "2", "3", "4", "5"], answer: 2, hint: "Simulates the Josephus problem: move first to back, then remove next. Repeat until 1 remains", explanation: "[1,2,3,4,5] → move 1 to back, remove 2: [3,4,5,1]. Move 3, remove 4: [5,1,3]. Move 5, remove 1: [3,5]. Move 3, remove 5: [3]. Peek = 3." },
];
