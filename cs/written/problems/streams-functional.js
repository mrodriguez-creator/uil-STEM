// UIL Computer Science – Streams & Functional (Java Streams API, Functional Interfaces, Method References, Modern Java)
// All questions in UIL "What is output by the code to the right?" format using out.print/out.println
const STREAMS_FUNCTIONAL_PROBLEMS = [

  // ══════════════════════════════════════════
  //  STREAMS API OUTPUT TRACES (sf1–sf8)
  // ══════════════════════════════════════════

  { id: "sf1", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;String&gt; names = List.of(\"Alice\", \"Bob\", \"Carol\");\nnames.stream()\n     .map(String::toUpperCase)\n     .forEach(s -&gt; out.print(s + \" \"));</code></pre>", choices: ["ALICE BOB CAROL ", "Alice Bob Carol ", "alice bob carol ", "ALICE BOB CAROL", "There is no output due to a compile error."], answer: 0, hint: "map(String::toUpperCase) converts each element to uppercase. forEach prints each with a trailing space", explanation: "stream produces Alice, Bob, Carol. map(String::toUpperCase) transforms to ALICE, BOB, CAROL. forEach prints each followed by a space: \"ALICE BOB CAROL \"." },

  { id: "sf2", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;Integer&gt; nums = List.of(3, 1, 4, 1, 5);\nlong c = nums.stream()\n             .filter(n -&gt; n &gt; 2)\n             .count();\nout.println(c);</code></pre>", choices: ["2", "3", "4", "5", "There is no output due to a compile error."], answer: 1, hint: "filter keeps elements where n > 2. Count how many of {3, 1, 4, 1, 5} are greater than 2", explanation: "Elements > 2: 3, 4, 5. That is 3 elements. count() returns 3." },

  { id: "sf3", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;Integer&gt; nums = List.of(5, 2, 8, 1, 9);\nList&lt;Integer&gt; r = nums.stream()\n    .sorted()\n    .collect(Collectors.toList());\nout.println(r);</code></pre>", choices: ["[5, 2, 8, 1, 9]", "[1, 2, 5, 8, 9]", "[9, 8, 5, 2, 1]", "[1, 2, 5, 8, 9, 5, 2, 8, 1, 9]", "There is no output due to a compile error."], answer: 1, hint: "sorted() sorts in natural order (ascending). The original list is not modified", explanation: "stream().sorted() produces elements in ascending order: 1, 2, 5, 8, 9. collect(Collectors.toList()) gathers them into [1, 2, 5, 8, 9]." },

  { id: "sf4", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;String&gt; w = List.of(\"hi\", \"bye\", \"ok\");\nString r = w.stream()\n    .map(String::toUpperCase)\n    .collect(Collectors.joining(\"-\"));\nout.println(r);</code></pre>", choices: ["hi-bye-ok", "HI-BYE-OK", "HIBYEOK", "[HI, BYE, OK]", "There is no output due to a compile error."], answer: 1, hint: "map converts to uppercase. Collectors.joining(\"-\") concatenates with hyphens between elements", explanation: "map produces HI, BYE, OK. Collectors.joining(\"-\") joins them with \"-\" delimiter: \"HI-BYE-OK\"." },

  { id: "sf5", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>int sum = IntStream.range(1, 5)\n    .map(n -&gt; n * n)\n    .sum();\nout.println(sum);</code></pre>", choices: ["10", "14", "30", "55", "There is no output due to a compile error."], answer: 2, hint: "IntStream.range(1, 5) produces 1, 2, 3, 4 (exclusive of 5). Each is squared before summing", explanation: "range(1,5) gives 1, 2, 3, 4. map(n -> n*n) gives 1, 4, 9, 16. sum() = 1+4+9+16 = 30." },

  { id: "sf6", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>int r = IntStream.rangeClosed(1, 5)\n    .reduce(0, (a, b) -&gt; a + b);\nout.println(r);</code></pre>", choices: ["10", "15", "20", "0", "There is no output due to a compile error."], answer: 1, hint: "rangeClosed(1, 5) produces 1, 2, 3, 4, 5 (inclusive). reduce adds them all starting from 0", explanation: "rangeClosed(1,5) gives 1, 2, 3, 4, 5. reduce(0, (a,b)->a+b) sums them: 0+1+2+3+4+5 = 15." },

  { id: "sf7", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;String&gt; a = List.of(\"cat\", \"ax\", \"bee\", \"do\");\nList&lt;String&gt; r = a.stream()\n    .filter(s -&gt; s.length() == 3)\n    .sorted()\n    .collect(Collectors.toList());\nout.println(r);</code></pre>", choices: ["[ax, bee, cat, do]", "[cat, bee]", "[bee, cat]", "[ax, do]", "There is no output due to a compile error."], answer: 2, hint: "filter keeps only strings with length exactly 3. Then sorted() orders alphabetically", explanation: "Strings with length 3: \"cat\"(3), \"bee\"(3). sorted() orders them: bee, cat. Result: [bee, cat]." },

  { id: "sf8", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;Integer&gt; nums = List.of(4, 7, 2, 9, 1);\nint m = nums.stream()\n    .filter(n -&gt; n % 2 == 0)\n    .reduce(0, Integer::sum);\nout.println(m);</code></pre>", choices: ["2", "6", "13", "23", "There is no output due to a compile error."], answer: 1, hint: "filter keeps even numbers only. reduce sums them starting from 0", explanation: "Even numbers: 4, 2. reduce(0, Integer::sum) adds them: 0+4+2 = 6." },

  // ══════════════════════════════════════════
  //  METHOD REFERENCES (sf9–sf12)
  // ══════════════════════════════════════════

  { id: "sf9", topic: "Streams & Functional", question: "Which of the following is equivalent to the lambda expression <code>x -&gt; x.toUpperCase()</code>?", choices: ["String::toUpperCase", "String::toUpperCase()", "toUpperCase::String", "String.toUpperCase", "x.toUpperCase::String"], answer: 0, hint: "An instance method reference for an unbound instance uses ClassName::methodName", explanation: "x -> x.toUpperCase() calls toUpperCase() on the argument x (a String). The equivalent method reference is String::toUpperCase (unbound instance method reference)." },

  { id: "sf10", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;String&gt; w = List.of(\"3\", \"1\", \"4\");\nList&lt;Integer&gt; r = w.stream()\n    .map(Integer::parseInt)\n    .collect(Collectors.toList());\nout.println(r);</code></pre>", choices: ["[3, 1, 4]", "[\"3\", \"1\", \"4\"]", "[314]", "There is no output due to a compile error.", "There is no output due to a runtime error."], answer: 0, hint: "Integer::parseInt is a static method reference. It converts each String to an int", explanation: "map(Integer::parseInt) converts \"3\"->3, \"1\"->1, \"4\"->4. collect gathers them into [3, 1, 4]." },

  { id: "sf11", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>List&lt;String&gt; w = List.of(\"hi\", \"bye\", \"ok\");\nList&lt;Integer&gt; lens = w.stream()\n    .map(String::length)\n    .collect(Collectors.toList());\nout.println(lens);</code></pre>", choices: ["[2, 3, 2]", "[hi, bye, ok]", "[3, 3, 3]", "[2, 2, 3]", "There is no output due to a compile error."], answer: 0, hint: "String::length is a method reference that returns the length of each string", explanation: "\"hi\".length()=2, \"bye\".length()=3, \"ok\".length()=2. Result: [2, 3, 2]." },

  { id: "sf12", topic: "Streams & Functional", question: "Which of the following is equivalent to the lambda expression <code>(a, b) -&gt; a + b</code> when used as a <code>BinaryOperator&lt;Integer&gt;</code>?", choices: ["Integer::sum", "Integer::add", "Integer::plus", "Math::addExact", "Integer::concat"], answer: 0, hint: "Integer has a static method sum(int a, int b) that returns a + b", explanation: "Integer.sum(a, b) returns a + b, which matches the lambda (a, b) -> a + b. The method reference is Integer::sum." },

  // ══════════════════════════════════════════
  //  FUNCTIONAL INTERFACES (sf13–sf16)
  // ══════════════════════════════════════════

  { id: "sf13", topic: "Streams & Functional", question: "Which functional interface should replace <code>&lt;1*&gt;</code> in the code below?<pre><code>&lt;1*&gt; isEven = n -&gt; n % 2 == 0;\nout.println(isEven.test(4));</code></pre>", choices: ["Function<Integer, Boolean>", "Predicate<Integer>", "Consumer<Integer>", "Supplier<Integer>", "UnaryOperator<Integer>"], answer: 1, hint: "The lambda takes one argument and returns a boolean. The method called is test()", explanation: "A Predicate<T> has a test(T t) method that returns boolean. The lambda n -> n % 2 == 0 takes an Integer and returns boolean, matching Predicate<Integer>." },

  { id: "sf14", topic: "Streams & Functional", question: "Which functional interface should replace <code>&lt;1*&gt;</code> in the code below?<pre><code>&lt;1*&gt; doubler = x -&gt; x * 2;\nout.println(doubler.apply(5));</code></pre>", choices: ["Predicate<Integer>", "Consumer<Integer>", "Supplier<Integer>", "Function<Integer, Integer>", "There is no output due to a compile error."], answer: 3, hint: "The lambda takes one argument and returns a value. The method called is apply()", explanation: "A Function<T,R> has an apply(T t) method that returns R. The lambda x -> x * 2 takes Integer and returns Integer, matching Function<Integer, Integer>." },

  { id: "sf15", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>Predicate&lt;String&gt; p = s -&gt; s.length() &gt; 3;\nout.print(p.test(\"hi\") + \" \");\nout.print(p.test(\"hello\"));</code></pre>", choices: ["true true", "false false", "false true", "true false", "There is no output due to a compile error."], answer: 2, hint: "Predicate.test() returns boolean. Check if each string's length is greater than 3", explanation: "p.test(\"hi\"): \"hi\".length()=2, 2>3 is false. p.test(\"hello\"): \"hello\".length()=5, 5>3 is true. Output: \"false true\"." },

  { id: "sf16", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>UnaryOperator&lt;String&gt; op = s -&gt; s + s;\nFunction&lt;String, Integer&gt; fn = String::length;\nout.println(fn.apply(op.apply(\"ab\")));</code></pre>", choices: ["2", "4", "ab", "abab", "There is no output due to a compile error."], answer: 1, hint: "op.apply(\"ab\") concatenates \"ab\" with itself. Then fn.apply gets the length of the result", explanation: "op.apply(\"ab\") returns \"ab\" + \"ab\" = \"abab\". fn.apply(\"abab\") returns \"abab\".length() = 4." },

  // ══════════════════════════════════════════
  //  MODERN JAVA FEATURES (sf17–sf20)
  // ══════════════════════════════════════════

  { id: "sf17", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>int x = 2;\nString r = switch (x) {\n    case 1 -&gt; \"one\";\n    case 2 -&gt; \"two\";\n    case 3 -&gt; \"three\";\n    default -&gt; \"other\";\n};\nout.println(r);</code></pre>", choices: ["one", "two", "three", "other", "There is no output due to a compile error."], answer: 1, hint: "Switch expression with arrow syntax. x is 2, so case 2 matches", explanation: "x is 2. The switch expression matches case 2 -> \"two\". r is assigned \"two\". Output: two." },

  { id: "sf18", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>int day = 5;\nString type = switch (day) {\n    case 1, 7 -&gt; \"Weekend\";\n    case 2, 3, 4, 5, 6 -&gt; \"Weekday\";\n    default -&gt; \"Invalid\";\n};\nout.println(type);</code></pre>", choices: ["Weekend", "Weekday", "Invalid", "5", "There is no output due to a compile error."], answer: 1, hint: "Switch expressions allow comma-separated values in a single case. day is 5", explanation: "day is 5. case 2, 3, 4, 5, 6 matches because 5 is in the list. type = \"Weekday\". Output: Weekday." },

  { id: "sf19", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>var list = new ArrayList&lt;String&gt;();\nlist.add(\"A\");\nlist.add(\"B\");\nlist.add(\"C\");\nout.println(list.getClass().getSimpleName());\nout.println(list.size());</code></pre>", choices: ["var\n3", "ArrayList\n3", "List\n3", "String\n3", "There is no output due to a compile error."], answer: 1, hint: "var infers the type at compile time. The actual type is ArrayList<String>. getSimpleName() returns the class name", explanation: "var infers the type as ArrayList<String>. getClass().getSimpleName() returns \"ArrayList\". list.size() returns 3. Output: ArrayList then 3." },

  { id: "sf20", topic: "Streams & Functional", question: "What is output by the code to the right?<pre><code>record Point(int x, int y) {}\nPoint p = new Point(3, 7);\nout.println(p.x() + \" \" + p.y());\nout.println(p);</code></pre>", choices: ["3 7\nPoint[x=3, y=7]", "3 7\nPoint@1a2b3c", "3 7\n(3, 7)", "There is no output due to a compile error.", "There is no output due to a runtime error."], answer: 0, hint: "Records auto-generate accessor methods x() and y(), plus a toString() method", explanation: "Records auto-generate accessor methods named after components: p.x()=3, p.y()=7. The auto-generated toString() produces \"Point[x=3, y=7]\". Output: 3 7 then Point[x=3, y=7]." },

];

if (typeof module !== 'undefined') module.exports = { STREAMS_FUNCTIONAL_PROBLEMS };
